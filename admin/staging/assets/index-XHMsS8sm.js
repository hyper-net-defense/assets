import"./index-BYdHSxkt.js";/* empty css                   */import{u as J}from"./usePagination-NdQ2qoRW.js";/* empty css                   *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                 */import"./el-tooltip-l0sNRNKZ.js";/* empty css                *//* empty css                  *//* empty css                 */import{c as K,u as Q,d as X,g as Y}from"./index-cjkz5sae.js";import{G as D,$ as Z,O as ee,H as ae,I as te,J as le,z as ne,M as oe,y as re,N as se,a0 as ie,a1 as ue,n as de,P as pe,Q as me,R as fe,S as ce,T as _e,U as ge,V as ve,E,_ as be}from"./element-B-FiLDCl.js";/* empty css                       */import{v as ye,r as w,aE as A,W as Ce,j as we,x as he,y as p,O as a,G as F,u as t,E as _,F as l,K as s,B as b,L as ke,I as De,k as Ee}from"./vue-Cwi6Gi-M.js";import{_ as Ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vxe-5K_zVHhu.js";const Pe={class:"app-container"},Te={class:"toolbar-wrapper"},xe={class:"table-wrapper"},Ue={class:"pager-wrapper"},ze=ye({name:"ElementPlus",__name:"index",setup(Re){const m=w(!1),{paginationData:r,handleCurrentChange:B,handleSizeChange:I}=J(),V={id:void 0,username:"",password:""},f=w(!1),h=A("formRef"),i=w(D(V)),O={username:[{required:!0,trigger:"blur",message:"Please enter username"}],password:[{required:!0,trigger:"blur",message:"Please enter password"}]};function $(){var o;(o=h.value)==null||o.validate(e=>{if(!e){E.error("Form validation failed");return}m.value=!0,(i.value.id===void 0?K:Q)(i.value).then(()=>{E.success("Operation successful"),f.value=!1,g()}).finally(()=>{m.value=!1})})}function M(){var o;(o=h.value)==null||o.clearValidate(),i.value=D(V)}function N(o){be.confirm(`Deleting user: ${o.username}, confirm deletion?`,"Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(()=>{X(o.id).then(()=>{E.success("Deleted successfully"),g()})})}function L(o){f.value=!0,i.value=D(o)}const k=w([]),P=A("searchFormRef"),c=Ce({username:"",phone:""});function g(){m.value=!0,Y({currentPage:r.currentPage,size:r.pageSize,username:c.username,phone:c.phone}).then(({data:o})=>{o&&(r.total=o.total,k.value=o.list)}).catch(()=>{k.value=[]}).finally(()=>{m.value=!1})}function T(){r.currentPage===1?g():r.currentPage=1}function q(){var o;(o=P.value)==null||o.resetFields(),T()}return we([()=>r.currentPage,()=>r.pageSize],g,{immediate:!0}),(o,e)=>{const x=Z,y=le,v=te,u=ne,U=ae,z=se,R=de,d=ce,C=_e,G=fe,W=ge,j=ve,S=ee;return p(),he("div",Pe,[a(x,{title:"Data Source",type:"success",description:"Online Mock data provided by Apifox, data is not real, only for basic CRUD demonstration","show-icon":""}),F((p(),_(z,{shadow:"never",class:"search-wrapper"},{default:l(()=>[a(U,{ref_key:"searchFormRef",ref:P,inline:!0,model:t(c)},{default:l(()=>[a(v,{prop:"username",label:"Username"},{default:l(()=>[a(y,{modelValue:t(c).username,"onUpdate:modelValue":e[0]||(e[0]=n=>t(c).username=n),placeholder:"Please enter"},null,8,["modelValue"])]),_:1}),a(v,{prop:"phone",label:"Phone"},{default:l(()=>[a(y,{modelValue:t(c).phone,"onUpdate:modelValue":e[1]||(e[1]=n=>t(c).phone=n),placeholder:"Please enter"},null,8,["modelValue"])]),_:1}),a(v,null,{default:l(()=>[a(u,{type:"primary",icon:t(oe),onClick:T},{default:l(()=>e[7]||(e[7]=[s(" Search ")])),_:1,__:[7]},8,["icon"]),a(u,{icon:t(re),onClick:q},{default:l(()=>e[8]||(e[8]=[s(" Reset ")])),_:1,__:[8]},8,["icon"])]),_:1})]),_:1},8,["model"])]),_:1})),[[S,t(m)]]),F((p(),_(z,{shadow:"never"},{default:l(()=>[b("div",Te,[b("div",null,[a(u,{type:"primary",icon:t(ie),onClick:e[2]||(e[2]=n=>f.value=!0)},{default:l(()=>e[9]||(e[9]=[s(" Add User ")])),_:1,__:[9]},8,["icon"]),a(u,{type:"danger",icon:t(ue)},{default:l(()=>e[10]||(e[10]=[s(" Batch Delete ")])),_:1,__:[10]},8,["icon"])]),b("div",null,[a(R,{content:"Download"},{default:l(()=>[a(u,{type:"primary",icon:t(pe),circle:""},null,8,["icon"])]),_:1}),a(R,{content:"Refresh current page"},{default:l(()=>[a(u,{type:"primary",icon:t(me),circle:"",onClick:g},null,8,["icon"])]),_:1})])]),b("div",xe,[a(G,{data:t(k)},{default:l(()=>[a(d,{type:"selection",width:"50",align:"center"}),a(d,{prop:"username",label:"Username",align:"center"}),a(d,{prop:"roles",label:"Role",align:"center"},{default:l(n=>[n.row.roles==="admin"?(p(),_(C,{key:0,type:"primary",effect:"plain","disable-transitions":""},{default:l(()=>e[11]||(e[11]=[s(" admin ")])),_:1,__:[11]})):(p(),_(C,{key:1,type:"warning",effect:"plain","disable-transitions":""},{default:l(()=>[s(ke(n.row.roles),1)]),_:2},1024))]),_:1}),a(d,{prop:"phone",label:"Phone",align:"center"}),a(d,{prop:"email",label:"Email",align:"center"}),a(d,{prop:"status",label:"Status",align:"center"},{default:l(n=>[n.row.status?(p(),_(C,{key:0,type:"success",effect:"plain","disable-transitions":""},{default:l(()=>e[12]||(e[12]=[s(" Active ")])),_:1,__:[12]})):(p(),_(C,{key:1,type:"danger",effect:"plain","disable-transitions":""},{default:l(()=>e[13]||(e[13]=[s(" Inactive ")])),_:1,__:[13]}))]),_:1}),a(d,{prop:"createTime",label:"Create Time",align:"center"}),a(d,{fixed:"right",label:"Actions",width:"150",align:"center"},{default:l(n=>[a(u,{type:"primary",text:"",bg:"",size:"small",onClick:H=>L(n.row)},{default:l(()=>e[14]||(e[14]=[s(" Edit ")])),_:2,__:[14]},1032,["onClick"]),a(u,{type:"danger",text:"",bg:"",size:"small",onClick:H=>N(n.row)},{default:l(()=>e[15]||(e[15]=[s(" Delete ")])),_:2,__:[15]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),b("div",Ue,[a(W,{background:"",layout:t(r).layout,"page-sizes":t(r).pageSizes,total:t(r).total,"page-size":t(r).pageSize,"current-page":t(r).currentPage,onSizeChange:t(I),onCurrentChange:t(B)},null,8,["layout","page-sizes","total","page-size","current-page","onSizeChange","onCurrentChange"])])]),_:1})),[[S,t(m)]]),a(j,{modelValue:t(f),"onUpdate:modelValue":e[6]||(e[6]=n=>Ee(f)?f.value=n:null),title:t(i).id===void 0?"Add User":"Edit User",width:"30%",onClosed:M},{footer:l(()=>[a(u,{onClick:e[5]||(e[5]=n=>f.value=!1)},{default:l(()=>e[16]||(e[16]=[s(" Cancel ")])),_:1,__:[16]}),a(u,{type:"primary",loading:t(m),onClick:$},{default:l(()=>e[17]||(e[17]=[s(" Confirm ")])),_:1,__:[17]},8,["loading"])]),default:l(()=>[a(U,{ref_key:"formRef",ref:h,model:t(i),rules:O,"label-width":"100px","label-position":"left"},{default:l(()=>[a(v,{prop:"username",label:"Username"},{default:l(()=>[a(y,{modelValue:t(i).username,"onUpdate:modelValue":e[3]||(e[3]=n=>t(i).username=n),placeholder:"Please enter"},null,8,["modelValue"])]),_:1}),t(i).id===void 0?(p(),_(v,{key:0,prop:"password",label:"Password"},{default:l(()=>[a(y,{modelValue:t(i).password,"onUpdate:modelValue":e[4]||(e[4]=n=>t(i).password=n),placeholder:"Please enter"},null,8,["modelValue"])]),_:1})):De("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Xe=Ve(ze,[["__scopeId","data-v-c26bba04"]]);export{Xe as default};
